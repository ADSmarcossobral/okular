<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook V3.1-Based Variant V1.0//EN">

<book lang="en">
<bookinfo>
<title>kdvi TeX DVI viewer - User Manual</title>
<authorgroup>
<author>
<firstname>Markku</firstname>
<surname>Hihnala</surname>
<affiliation>
<address><email>mah@ee.oulu.fi</email></address>
</affiliation>
</author>
</authorgroup>
<date>25/05/2000</date>
<releaseinfo>Version 1.00.00</releaseinfo>
<keywordset>
<keyword>KDE</keyword>
<keyword>DVI</keyword>
<keyword>TeX</keyword>
<keyword>LaTeX</keyword>
<keyword>device-independent</keyword>
<keyword>viewer</keyword>
<keyword>dvi viewer</keyword>
<keyword>kdvi</keyword>
<keyword>xdvi</keyword>
</keywordset>
</bookinfo>

<chapter id="usage">
<title>usage</title>

<note>
<para>kdvi is a DVI viewer based on xdvik version 18f by many authors (see file AUTHORS).  My additions to the earlier work are distributed under the GPL (see file COPYING).</para>

<para>This is an alpha release of kdvi. See file README.kdvi for release notes.</para>
</note>

<para>The dvi viewer may be started using a file name to display a file, e.g: <literal remap="verb">kdvi somepath/paper.dvi</literal>or without a file name as <literal remap="verb">kdvi</literal>  kdvi will then allow a file to be opened from a dialog or a menu of recently used files. This menu can also be popped up by clicking the File button with the right mouse button.</para>

<para>The usual parameters handled by Qt and KDE applications also work: <literal remap="verb">kdvi -style windows -display :0 -geometry 400x400+0+0 -caption "DVI"</literal>  For integration with TeX the opened DVI file is automatically reloaded when changed.</para>
</chapter>

<chapter id="keyboard">
<title>Using keyboard</title>

<para>Most keyboard commands are displayed in the menus as accelerator keys.
The defaults follow KDE standard when applicable.
You can define your prefered key bindings using the KDE standard key
configuration dialog available from the menu Options/Keys.</para>

<para>Note also that you can reach most menu commands with a couple of key presses,
e.g. to show the Help/About is done by Alt-h a. You can also use
cursor keys to move around in menus.
Here is a list of invisible bindings (these are not configurable):
<itemizedlist>
<listitem>
<para>SPACE moves down then to top of next page similar to Advance button.</para>
</listitem>
<listitem>
<para>Cursor keys scroll in obvious way. With Control-modifier they use a very
small step size for accurate control.</para>
</listitem>
<listitem>
<para>Home scrolls to top of page.</para>
</listitem>
<listitem>
<para>End scrolls to bottom of page.</para>
</listitem>
</itemizedlist>
</para>
</chapter>

<chapter id="Movingaround">
<title>Moving around</title>

<para>You can scroll the page with various ways: Using keyboard <xref linkend="keyboard">, using the scrollbars, using the scroller
widget located above the page list or by dragging the display with
left mouse button.</para>

<para>The Page menu provides commands for changing the displayed page. A
primitive dialog is available to enter a page number. The scroller
widget allows you to move to the next or the previous page by clicking
the right or middle mouse button. The page list can be clicked with
the left mouse button to select a page.</para>

<para>The button bar provides buttons to change pages: First, Previous,
Advance, Next and Last.  In the middle of these is the Advance button
which can be used to easily read through many partly displayed pages:
it scrolls down until at the bottom of page and then to the top of the
next page.</para>
</chapter>

<chapter id="Changingmagnification">
<title>Changing magnification</title>

<para>The View menu offers entries to step through available magnifications:
Zoom in and Zoom out. The available magnifications corresponds to the
base resolution of the used pk-font and its reductions by integer
factors.</para>

<para>The button bar presents these same commands plus two fixed
magnifications for quick selection. You can use these to switch
between a readable text size and a magnified view (there is no
separate magnifier window) or between a readable size and a full page
view. You can configure these fixed sizes with preferences dialog.</para>

<para>One non-obvious feature is the selection of scaling center. You can
select with left mouse button the point on the page that does not move
(if possible) when changing the magnification. Use this by clicking
with left mouse button at the detail you want to see magnified and
then push the magnified view button.</para>
</chapter>

<chapter id="Markingpages">
<title>Marking pages</title>

<para>You can mark pages for printing. The marks are visible in the page list.</para>

<para>The current page can be marked by selecting the entry 'Mark page' from
the RMB popup menu of the viewing area. The page list gives more
options for marking: you can mark all, even, odd or current page and
unmark current or all pages and toggle marks using the RMB popup menu
of page list. Clicking or dragging the middle mouse button also
toggles the marks.</para>
</chapter>

<chapter id="Printing">
<title>Printing</title>

<para>This version has a print setup dialog (available from the print
dialog) that lets you configure the printing method, n-up program,
printer names and spooler command. Printing method selects the
external program to use for printing.  Available choices are dvips and
dvilj4. If you use dvips, you can also have an n-up program called to
make 2 or 4 pages per sheet. Select psnup (preferred) or mpage (may
work) if you have that installed in your system.</para>

<para>You may add printer names that will be available in the print dialog.</para>

<para>And last you can change the spooler command (defaults to lpr) that is
supposed to read standard input. Option -P is appended when printing
to nondefault printer.</para>

<para>Having setup printing you can use the print dialog where you can
select the pages to be printed, which printer or file to use for
output and more.</para>
</chapter>

<chapter id="QampA">
<title>Q &amp; A</title>

<para>Q: Why is kdvi not displaying anything but a busy cursor?
A: It is
possible, that kdvi is searching for the pk-fonts from wrong places,
and this can be very time consuming if these include network mounted
filesystems. You can check for this with strace and see below for a
cure.</para>

<para>Q: What can I do when kdvi does not find my PK-fonts?
A: You must have correct settings for resolution and Metafont mode. 
If this does not help, you may set the field
'PK Font Path' in Preferences/Fonts to point to the  list of directories
to be searched for pk-fonts:
/var/lib/texmf/fonts/pk/ljfour/:/some/other/place
You can make kdvi search recursively by adding an extra / at the end of
directory name:
/var/lib/texmf/fonts//
(This works like xdvi's XDVIFONTS environment variable.
There is also good (gnu info) documentation available for the kpathsea library
that kdvi uses for font searching.)
This makes kdvi usable when you have some other tex system than tetex and don't
have the texmf.cnf file.</para>

<para>Q: How do I get the font generation to work?
A: If you like to enable automatic font generation using MakeTeXPK,
you must also supply correct Metafont mode in preferences dialog.
When automatic pk-font generation is disabled (menu option)
the missing fonts will be logged to file missfont.log in the current directory.
It is a good idea to check that the font generation commands in
missfont.log are correct before enabling font generation.</para>
</chapter>

<chapter id="BUGS">
<title>BUGS</title>

<para>Known bugs:
<itemizedlist>
<listitem>
<para> Changes in paper size only get applied correctly after restart.</para>
</listitem>
<listitem>
<para> When showing PS the gs process seems to hang sometimes. Killing gs helps.</para>
</listitem>
<listitem>
<para> When showing PS the rendered image is not always updated. Scrolling the
view helps.</para>
</listitem>
<listitem>
<para> You need to have xdvi installed and accessible via the program search path.
You can replace the actual file with an empty executable though.</para>
</listitem>
</itemizedlist>
</para>

<para>Unknown bugs:
<itemizedlist>
<listitem>
<para>Probably many</para>
</listitem>
</itemizedlist>
</para>
</chapter>

<chapter id="TODO">
<title>TO DO</title>

<para><itemizedlist>
<listitem>
<para>Document info dialog</para>
</listitem>
<listitem>
<para>More paper types, currently only those from xdvi are available</para>
</listitem>
<listitem>
<para>Better onitemne help</para>
</listitem>
<listitem>
<para>Internal printing using QPrinter</para>
</listitem>
<listitem>
<para>Redirect error messages to a window (partly done)</para>
</listitem>
<listitem>
<para>Better Postscript handling (currently not very robust)
<itemizedlist>
<listitem>
<para>anti-aliasing</para>
</listitem>
</itemizedlist>
</para>
</listitem>
<listitem>
<para>More background processing to keep the UI responsive</para>
</listitem>
<listitem>
<para>Magnifier window </para>
</listitem>
<listitem>
<para>Two page view</para>
</listitem>
<listitem>
<para>Support for more TeX specials</para>
</listitem>
<listitem>
<para>Network URL support</para>
</listitem>
</itemizedlist>
</para>

<para>Anything else?  Feel free to make suggestions and report any problems you have.</para>

<para>Markku Hihnala
<ulink url="mailto:mah@ee.oulu.fi">mah@ee.oulu.fi</ulink></para>
</chapter>
</book>
<!--
Local Variables:
mode: sgml
sgml-omittag: nil
sgml-shorttag: t
End:
-->
