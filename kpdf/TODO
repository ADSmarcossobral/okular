TODO - branch version
Legend:
    ADD - ADDed
    CHG - CHanGed
    FIX - FIXed
    MRG - MeRGed from head
    (*) - Some parts of this item are already done

In progress on the branch (first item comes first):
-> ADD: reading aids (accessibility) [settings config done while now, 20% done]
-> ADD: click over image allows "save image" (and display rect around image too) [50% done]
-> ADD: viewport changes the right way when clicking links [30% done]

Things to do in order to merge in HEAD (first item has highest priority):
-> memory manager with different profiles (mem/cpu tradeoff: {memory saving, normal, memory aggressive})
-> link thumbnails view with document
-> this may be postponed after merge: implementing async document generator using Albert's generator thread
-> new icons (contest at kde-look has ended and we know the winner. good choice :-)
-> take care of naming on merge, too differences (remove some kpdf_* prefixes
   and rename internals toodocument->kpdfdocument)

More items (first items will enter 'In progress list' first):
*THIS ITEMS ARE CURRENTLY FROZEN SINCE "HEAD-MERGE" LIST IS CLEARED*
-> screen editing (annotations): framework (BR67300,BR62793)
-> screen editing (annotations): tools (BR67300)
-> display current page / total pages (with analog indicator too (progressbar/indicator/...))
-> session support: restoring page location (BR82589)
-> export all text in plain_text/html
-> extract(export?) images (have a look at ImageOutputDev.cc and pdfimages.cc from xpdf (not in our xpdf sources))
-> text selection in wordprocessor style (very hard/impossible)
-> implement history (mainly for actionNamed)
-> history as a toolbox child (collecting DOs's setPage calls)
-> zoom: fit text (with configurable margin)
-> autodetect "/dev/speech" and provide {document/page/selection} -> reading
-> automatic online dictionaries / translators (BR80338)
-> add OCR for building TextPages out of pure graphical (aka scanned) pages
-> merge head copyright headers (by albert)
-> merge head support for show menubar in rmb (by albert)
-> wrong zoom buttons order (BR74248) (check consistancy with kdvi/kghostview/.. (not konq))

Done (newest feature comes firts):
-> FIX: zoom preserved when switching modes and flickerless
-> ADD: Printing as PS instead of as image (Albert)
-> ADD: Remember page on session logout and put the document in it on session restore (Albert)
-> ADD: gfx capturing tool
-> ADD: composited renderer framework (in addition to a fast light one)
-> FIX: pageview repaint done internally (speed boost and reduced memory consumption)
-> ADD: KConfigXT settings framework and Accessibility config (acc. code mostly not done)
-> FIX: workaround for scrollview bug 1/2 (painting hidden widgets under certain circumstances)
-> ADD: zoom into a rect defined by mouse (aka zoom to window)
-> FIX: sheet rotation in landscape case
-> ADD: Some dcop functions (goToPage, openDocument and give # of pages) (Albert)
-> MRG: link following ('actionMovie' kind is missing)
-> ADD: text selection (rectangular blocks) in selection mode
-> ADD: autoscroll page with Shift+Up/Dn keys (exact konqueror's behavior)
-> CHG: remake single page mode
-> FIX: zoom buttons in sync with text
-> ADD: continous mode
-> ADD: multiple pages per view (gui selects 1 or 2 ppv)
-> MRG: the option to open password protected files (from head)
-> MRG: the Table Of Contents (from head)
-> ADD: a 'search bar' with prune-as-you-type feature
-> MRG: Albert's search ported and implemented case sensitive
-> CHG: smart handling of pixmap using an Observer ID (thumbnails are gone, only pixmaps now)
-> FIX: some toolbar/menu changes
-> ADD: outline bottom and right edges (of pages)
-> FIX: centering pages in the view
-> FIX: kpdf output at 100% has exactly the same size as acroread now
-> CHG: qsplitter layouting
-> FIX: zooming works as expected (and added 'fit to page' too)
-> ADD: new go to page dialog
-> GHG: previews sorted by visible areas (prioritize items where the scrollbar is)
-> FIX: previews speedup: 50-100%
-> CHG: use local instead of X memory for thumbnails (..)
-> MRG: merge lots of kpdf_part and part (centralview) code (to simplify/clenup)

Here comes a list of suggestions from a dot post http://dot.kde.org/1095261317 and IRC:
 Tool: ruler, measure: distance, perimeter, ?area?
 Tool: color picker
 Annotations: yellow notes 'post-it' like
 Speak: integration with a voice synthesizer
 Export: export to other formats keeping formatting (a dream.. except for PNG :-)
 PDF: <theICEBear> pdf forms support.... :D if at all possible

Bugs to close after merging to HEAD
BR88661: (thumbnail prev. is blocking) Not only it's threaded, but it generates
         thumbnails only for the few visible items inside the thumbnaillist.
BR72347: (search doesn't work) Closeable NOW. The feature is already on HEAD.
BR72165: (showing a "scanned document PDF" is very slow). By running many tests
         on xpdf and kpdf_experiments, I measured 5-15% speed loss (due to
         internal pixmap conversions). No noticeable difference.
BR89835: (PDF pages to be aligned centrally). Done in branch.
BR90026: (crash). Can't reproduce on branch.
BR74435: (smooth transition/continous mode) It's in from sept-27.
BR80164: (2-up view of pdf pages)  It's in from sept-26.
BR69092: Zoom displayed/internal values synced with fixed value or displayed page.
         It is editable and the list gets cleaned and rebuilt on changes.
